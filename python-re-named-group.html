<!DOCTYPE html>
<html>
<head>
    <!-- Document Settings -->
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <!-- Page Meta -->
    <title>Python 정규표현식(regular expression) 그룹 이름 붙이기(named group)</title>
    <meta name="description" content="Python, Pandas를 Excel보다 사랑하는 직장인을 위한 블로그 " />

    <!-- Mobile Meta -->
    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Brand icon -->
    <link rel="shortcut icon" href="/assets/images/favicon.ico" >

    <!-- Styles'n'Scripts -->
    <link rel="stylesheet" type="text/css" href="/assets/css/screen.css" />
    <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Merriweather:300,700,700italic,300italic|Open+Sans:700,400" />
    <link rel="stylesheet" type="text/css" href="/assets/css/syntax.css" />

    <!-- highlight.js -->
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.3.0/styles/default.min.css">
    <style>.hljs { background: none; }</style>

    <!-- Ghost outputs important style and meta data with this tag -->
        <link rel="canonical" href="https://emilkwak.github.io//python-re-named-group" />
    <meta name="referrer" content="origin" />
    <link rel="next" href="/page2/" />

    <meta property="og:site_name" content="직장인을 위한 Python" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Python 정규표현식(regular expression) 그룹 이름 붙이기(named group)" />
    <meta property="og:description" content="Python, Pandas를 Excel보다 사랑하는 직장인을 위한 블로그 " />
    <meta property="og:url" content="https://emilkwak.github.io//python-re-named-group" />
    <meta property="og:image" content="/assets/images/office01.jpg" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Python 정규표현식(regular expression) 그룹 이름 붙이기(named group)" />
    <meta name="twitter:description" content="Python, Pandas를 Excel보다 사랑하는 직장인을 위한 블로그 " />
    <meta name="twitter:url" content="https://emilkwak.github.io//python-re-named-group" />
    <meta name="twitter:image:src" content="/assets/images/office01.jpg" />

    <script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "Website",
    "publisher": "직장인을 위한 Python",
    "name": "Python 정규표현식(regular expression) 그룹 이름 붙이기(named group)",
    "url": "https://emilkwak.github.io//python-re-named-group",
    "image": "/assets/images/office01.jpg",
    "description": "Python, Pandas를 Excel보다 사랑하는 직장인을 위한 블로그 "
}
    </script>

    <meta name="generator" content="Jekyll 3.0.0" />
    <link rel="alternate" type="application/rss+xml" title="직장인을 위한 Python" href="/feed.xml" />


</head>
<body class="home-template nav-closed">

    <!-- The blog navigation links -->
    <div class="nav">
    <h3 class="nav-title">Menu</h3>
    <a href="#" class="nav-close">
        <span class="hidden">Close</span>
    </a>
    <ul>
        <li class="nav-home " role="presentation"><a href="/">Home</a></li>
        <li class="nav-about " role="presentation"><a href="/about">About</a></li>
        <!--<li class="nav-fables " role="presentation"><a href="/tag/fables">Fables</a></li>-->
        <!--<li class="nav-speeches " role="presentation"><a href="/tag/speeches">Speeches</a></li>-->
        <!--<li class="nav-fiction " role="presentation"><a href="/tag/fiction">Fiction</a></li>-->
        <li class="nav-python  nav-current" role="presentation"><a href="/tag/python">Python</a></li>
        <li class="nav-python " role="presentation"><a href="/tag/tech">Tech</a></li>
        <!--<li class="nav-author " role="presentation"><a href="/author/casper">Casper</a></li>-->
        <!--<li class="nav-author " role="presentation"><a href="/author/edgar">Edgar</a></li>-->
        <!--<li class="nav-author " role="presentation"><a href="/author/abraham">Abraham</a></li>-->
        <!--<li class="nav-author " role="presentation"><a href="/author/martin">Martin</a></li>-->
        <!--<li class="nav-author " role="presentation"><a href="/author/lewis">Lewis</a></li>-->
        <li class="nav-author " role="presentation"><a href="/author/emil">Emil</a></li>
    </ul>
	<!--
	<script type="text/javascript" src="//ra.revolvermaps.com/0/0/5.js?i=08l21hws0p1&amp;m=0&amp;c=ff0000&amp;cr1=ffffff" async="async"></script>
	-->
	<center>
        <a href="https://info.flagcounter.com/U7Uy"><img src="https://s01.flagcounter.com/count/U7Uy/bg_FFFFFF/txt_000000/border_CCCCCC/columns_2/maxflags_10/viewers_0/labels_1/pageviews_1/flags_0/percent_0/" alt="Flag Counter" border="0"></a>
	</center>
    <a class="subscribe-button icon-feed" href="/feed.xml">Subscribe</a>
</div>
<span class="nav-cover"></span>


    <div class="site-wrapper">

        <!-- All the main content gets inserted here, index.hbs, post.hbs, etc -->
        <!-- default -->

<!-- The comment above "< default" means - insert everything in this file into -->
    <!-- the [body] of the default.hbs template, which contains our header/footer. -->

<!-- Everything inside the #post tags pulls data from the post -->
<!-- #post -->

<header class="main-header post-head " style="background-image: url(/assets/images/office01.jpg) ">
    <nav class="main-nav  overlay  clearfix">
        <a class="blog-logo" href="/"><img src="/assets/images/pooh03.png" alt="Blog Logo" /></a>
        
            <a class="menu-button icon-menu" href="#"><span class="word">Menu</span></a>
        
    </nav>
</header>

<main class="content" role="main">

    <article class="post tag-speeches">

        <header class="post-header">
            <h1 class="post-title">Python 정규표현식(regular expression) 그룹 이름 붙이기(named group)</h1>
            <section class="post-meta">
            <!-- <a href='/'></a> -->

            
                
            
                
            
                
            
                
            
                
            
                
                    <a href='/author/emil'>Emil Kwak</a>
                
            
            <time class="post-date" datetime="2019-05-02">02 May 2019</time>
                <!-- [[tags prefix=" on "]] -->
                
                on
                
                    
                       <a href='/tag/tech'>Tech</a>,
                    
                
                    
                       <a href='/tag/python'>Python</a>,
                    
                
                    
                       <a href='/tag/regularexpression'>Regularexpression</a>,
                    
                
                    
                       <a href='/tag/regex'>Regex</a>,
                    
                
                    
                       <a href='/tag/re'>Re</a>,
                    
                
                    
                       <a href='/tag/namedgroup'>Namedgroup</a>,
                    
                
                    
                       <a href='/tag/backreference'>Backreference</a>
                    
                
                
            </section>
        </header>

        <section class="post-content">

            <p>지금의 Python은 데이터 과학(data science)의 주류 언어로 각광받으면서, 프로그래밍 언어로서 황혼기를 누리고 있습니다. 데이터 과학의 러브콜을 받기 전 Python이 대중화가 될 수 있었던 이유는 강력한 문자열 처리에 있습니다. 사실 데이터 과학 분야에서도 Python의 문자열 처리 기능이 매우 유용하게 사용되지요. Tesorflow나 PyTorch 등 기계학습(machine learning) 및 인공지능(AI)라이브러리 또한 Python의 문자열 처리 기능 덕분에 더 빛을 발하지요.</p>

<p>Python에서도 문자열 처리 기능으로서 정규표현식(regular expression, regex)이 매우 유용히 사용됩니다. 사실 정규표현식은 Python만의 개념이 아니지요. 정규표현식 개념의 등장은 무려 1950년대로 거슬러 올라 갑니다. Python의 문자열 처리 기능의 강력함을 정규표현식만으로 설명할 수는 없는 노릇이지요. Python이 제공하는 특유의 문자열 처리 도구들과 특화된 라이브러리들과 정규표현식이 어우려져 사용될 때 비로소 막대한 시너지가 생깁니다.</p>

<p><code class="highlighter-rouge">startswith()</code>, <code class="highlighter-rouge">endswith()</code> 같은 기본 제공 모듈, <code class="highlighter-rouge">in</code>과 같은 키워드, <code class="highlighter-rouge">[:3]</code>, <code class="highlighter-rouge">[-5:]</code>와 같은 슬라이싱(slicing) 기능을 잘 활용하는 것도 물론 중요하겠지만, Python이 제공하는 정규표현식 라이브러리인 re를 능수능란히 다루는 능력 또한 중요합니다. 물론 정규표현식에 대한 기본 지식 또한 중요하겠지요.</p>

<p>여기에서는 Python의 re 라이브러리를 사용할 때 정규표현식 속 그룹에 이름을 붙여 이용하는 방법(named group)과 이름 붙여진 그룹에 직접 접근하는 방법을 살펴 보겠습니다. 이름 붙여진 그룹이라 함은, 별다른 뜻은 아니고, 정규표현식 속 일부가 되는 특정 패턴에 명시적인 이름을 붙였을 때를 말합니다.</p>

<p>가장 기본이 되는, 정규표현식 속 그룹에 이름을 붙이는 방법은 아래와 같습니다. <code class="highlighter-rouge">(?P&lt;NAME&gt;...)</code>은 괄호 속 패턴 부분에 NAME이라고 이름을 붙이는 방법입니다.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">re</span>

<span class="n">comp</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="nb">compile</span><span class="p">(</span><span class="s">'</span><span class="err">\</span><span class="s">s+(?P&lt;NAME&gt;</span><span class="err">\</span><span class="s">w+)</span><span class="err">\</span><span class="s">s+speaking'</span><span class="p">)</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">comp</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s">'This is Michael speaking.'</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="c"># &lt;re.Match object; span=(7, 24), match=' Michael speaking'&gt;</span>
</code></pre></div></div>

<p>위 코드에서는 붙인 이름으로 <code class="highlighter-rouge">search()</code>로 찾은 패턴에 직접 접근하지 않습니다. 아래 코드처럼 하면 붙인 이름을 통해 패턴에 직접 접근할 수 있습니다.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="s">'NAME'</span><span class="p">))</span>
<span class="c"># Michael</span>
</code></pre></div></div>

<p>하나의 정규표현식에 둘 이상의 그룹을 잡고 각각 다른 이름을 붙일 수 있습니다. 이처럼 그룹 수가 많아지면 <code class="highlighter-rouge">group(...)</code>을 여러번 쓰는 것보다, 이름과 패턴의 쌍들로 만들어진 딕셔너리(dictionary)를 <code class="highlighter-rouge">groupdict()</code>로 받아 와 쓰는 게 편리합니다.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">comp</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="nb">compile</span><span class="p">(</span><span class="s">'</span><span class="err">\</span><span class="s">s+(?P&lt;NAME1&gt;</span><span class="err">\</span><span class="s">w+)</span><span class="err">\</span><span class="s">s+and</span><span class="err">\</span><span class="s">s+(?P&lt;NAME2&gt;</span><span class="err">\</span><span class="s">w+)</span><span class="err">\</span><span class="s">s+speaking'</span><span class="p">)</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">comp</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s">'This is John and Jane speaking.'</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">groupdict</span><span class="p">())</span>
<span class="c"># {'NAME1': 'John', 'NAME2': 'Jane'}</span>
</code></pre></div></div>

<p>한편 정규표현식에 이미 등장해 이름 붙여 놓은 그룹을 다시 참조해 같은 식에 재활용하는 방법도 있습니다. 이를 named group backreference라고 부릅니다.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">comp</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="nb">compile</span><span class="p">(</span><span class="s">'</span><span class="err">\</span><span class="s">s+(?P&lt;NAME&gt;</span><span class="err">\</span><span class="s">w+)</span><span class="err">\</span><span class="s">s+speaking</span><span class="err">\</span><span class="s">.</span><span class="err">\</span><span class="s">s+(?P=NAME)</span><span class="err">\</span><span class="s">s+is online</span><span class="err">\</span><span class="s">.'</span><span class="p">)</span>

<span class="n">result_a</span> <span class="o">=</span> <span class="n">comp</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s">'This is Michael speaking. Michael is online.'</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result_a</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="s">'NAME'</span><span class="p">))</span>
<span class="c"># Michael</span>
<span class="k">print</span><span class="p">(</span><span class="nb">bool</span><span class="p">(</span><span class="n">result_a</span><span class="p">))</span>
<span class="c"># True</span>

<span class="n">result_b</span> <span class="o">=</span> <span class="n">comp</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s">'This is Thomas speaking. Paul is online.'</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result_b</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="s">'NAME'</span><span class="p">))</span>
<span class="c"># AttributeError: 'NoneType' object has no attribute 'group'</span>
<span class="k">print</span><span class="p">(</span><span class="nb">bool</span><span class="p">(</span><span class="n">result_b</span><span class="p">))</span>
<span class="c"># False</span>
</code></pre></div></div>

<p>위 코드를 보면, <code class="highlighter-rouge">result_a</code>에서는 정규표현식의 앞부분에서 찾은 패턴 Michael이 뒤에 다시 등장하여 정상적으로 탐색(search)이 된 것을 알 수 있습니다. 반면 <code class="highlighter-rouge">result_b</code>에서는 앞부분 패턴은 Thomas지만 뒷부분 패턴은 Paul입니다. 앞뒤 패턴이 달라 탐색이 실패한 것이지요. 참고로, re 라이브러리의 정규표현식 결과를 <code class="highlighter-rouge">bool()</code>로 캐스팅(casting)하면, 패턴이 찾아진 경우 True, 아닌 경우 False를 반환합니다.</p>


        </section>

        <footer class="post-footer">

            <!-- Everything inside the #author tags pulls data from the author -->
            <!-- #author-->
            
                
            
                
            
                
            
                
            
                
            
                
                    
                        <figure class="author-image">
                            <a class="img" href="/author/emil" style="background-image: url(/assets/images/pooh01.jpg)"><span class="hidden">emil's Picture</span></a>
                        </figure>
                    

                    <section class="author">
                        <h4><a href="/author/emil">Emil Kwak</a></h4>

                        
                            <p> An ordinary salaryman making use of Python replacing Microsoft Excel in office</p>
                        
                        <div class="author-meta">
                            <span class="author-location icon-location"> Seoul, Republic of Korea</span>
                            
                        </div>
                    </section>

                    <!-- /author  -->

                    <section class="share">
                        <h4>Share this post</h4>
                        <a class="icon-twitter" href="http://twitter.com/share?text=Python 정규표현식(regular expression) 그룹 이름 붙이기(named group)&amp;url=https://emilkwak.github.iopython-re-named-group"
                            onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
                            <span class="hidden">Twitter</span>
                        </a>
                        <a class="icon-facebook" href="https://www.facebook.com/sharer/sharer.php?u=https://emilkwak.github.iopython-re-named-group"
                            onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
                            <span class="hidden">Facebook</span>
                        </a>
                        <a class="icon-google-plus" href="https://plus.google.com/share?url=https://emilkwak.github.iopython-re-named-group"
                           onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
                            <span class="hidden">Google+</span>
                        </a>
                    </section>
                
            

            <!-- Add Disqus Comments -->
            

        </footer>

    </article>

</main>

<aside class="read-next">

    <!-- [[! next_post ]] -->
    
        <a class="read-next-story " style="background-image: url(/assets/images/office01.jpg)" href="/python-star-asterisk-args-kwargs">
            <section class="post">
                <h2>Python 별표(*) 문법(asterisk/star syntax), *args와 **kwargs</h2>
                <p>Python에는 우리나라에서 흔히 별표라 부르는 asterisk(`*`)를 활용한 특이한 문법(syntax)가 있습니다. `*args`, `**kwargs`라고 해도 통합니다. C나...</p>
            </section>
        </a>
    
    <!-- [[! /next_post ]] -->
    <!-- [[! prev_post ]] -->
    
        <a class="read-next-story prev " style="background-image: url(/assets/images/office01.jpg)" href="/python-inline-if-statement-elif">
            <section class="post">
                <h2>Python 인라인 if절(inline if statement)에 elif 표현하기</h2>
                <p>Python은 컴팩트한 코드를 지향하기 때문에 다양한 장치를 제공하는데, 그중 대표적인 것이 inline if절(statement)입니다. 사실 C/C++나...</p>
            </section>
        </a>
    
    <!-- [[! /prev_post ]] -->
</aside>

<!-- /post -->


        <!-- The tiny footer at the very bottom -->
        <footer class="site-footer clearfix">
          <section class="copyright"><a href="/">직장인을 위한 Python</a> &copy; 2019</section>
          <section class="poweredby">Proudly published with <a href="https://jekyllrb.com/">Jekyll</a> using <a href="https://github.com/jekyller/jasper">Jasper</a></section>
        </footer>
    </div>
    <!-- highlight.js -->
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.3.0/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>

    <!-- jQuery needs to come before `` so that jQuery can be used in code injection -->
    <script type="text/javascript" src="//code.jquery.com/jquery-1.12.0.min.js"></script>
    <!-- Ghost outputs important scripts and data with this tag -->
    <!--  -->
    <!-- Add Google Analytics  -->
        <!-- Google Analytics Tracking code -->
     <script>
	    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

	    ga('create', 'UA-69281367-1', 'auto');
	    ga('send', 'pageview');

     </script>
    <!-- Fitvids makes video embeds responsive and awesome -->
    <script type="text/javascript" src="/assets/js/jquery.fitvids.js"></script>
    <!-- The main JavaScript file for Casper -->
    <script type="text/javascript" src="/assets/js/index.js"></script>

</body>
</html>
